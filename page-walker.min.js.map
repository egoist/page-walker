{"version":3,"sources":["page-walker.min.js"],"names":["_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","W","D","updateProgress","wh","innerHeight","h","height","body","sHeight","width","Math","max","min","scrollY","$","selector","style","el","parseInt","getComputedStyle","document","querySelector","bind","className","definition","PageWalker","this","bgColor","position","value","exitsingBar","removeChild","getBar","watchBar","addEventListener","bar","initBar","createElement","setAttribute","appendChild","module","exports","window"],"mappings":"AAAA,YAIA,SAASA,iBAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAFhH,GAAIC,cAAe,WAAe,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAIC,GAAI,EAAGA,EAAID,EAAME,OAAQD,IAAK,CAAE,GAAIE,GAAaH,EAAMC,EAAIE,GAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,SAAWF,KAAYA,EAAWG,UAAW,GAAMC,OAAOC,eAAeT,EAAQI,EAAWM,IAAKN,IAAiB,MAAO,UAAUR,EAAae,EAAYC,GAAiJ,MAA9HD,IAAYZ,EAAiBH,EAAYiB,UAAWF,GAAiBC,GAAab,EAAiBH,EAAagB,GAAqBhB,OAIjiB,SAAWkB,EAAGC,GAqFZ,QAASC,KACP,GAAIC,GAAKH,EAAEI,YACPC,EAAIC,EAAOL,EAAEM,MACbC,EAAUH,EAAIF,EACdM,EAAwD,IAAhDC,KAAKC,IAAI,EAAGD,KAAKE,IAAI,EAAGZ,EAAEa,QAAUL,IAAkB,GAClEM,GAAEC,GAAUC,MAAMP,MAAQA,EAG5B,QAASH,GAAOW,GACd,MAAOC,UAASC,iBAAiBF,GAAIX,QA5FvC,GAAIQ,GAAIM,SAASC,cAAcC,KAAKF,UAChCG,EAAY,cACZR,EAAW,IAAMQ,EAEjBC,EAAa,WACf,GAAIC,GAAa,WACf,QAASA,KACP7C,gBAAgB8C,KAAMD,GAEtBC,KAAKC,QAAU,UACfD,KAAKE,SAAW,MAyDlB,MAtDA5C,cAAayC,IACX7B,IAAK,QACLiC,MAAO,WACL,MAAO,2CAA6CH,KAAKE,SAAW,qCAAuCF,KAAKC,QAAU,0JAG5H/B,IAAK,QACLiC,MAAO,WACL,GAAIC,GAAchB,EAAEC,EAChBe,IACF7B,EAAEM,KAAKwB,YAAYD,GAErBJ,KAAKM,SACLN,KAAKO,cAGPrC,IAAK,WACLiC,MAAO,WACL7B,EAAEkC,iBAAiB,SAAU,WAC3BhC,SAIJN,IAAK,SACLiC,MAAO,WACL,GAAIM,GAAMrB,EAAEC,EAIZ,OAHKoB,KACHA,EAAMT,KAAKU,WAEND,KAGTvC,IAAK,UACLiC,MAAO,WACL,GAAIM,GAAMlC,EAAEoC,cAAc,MAI1B,OAHAF,GAAIZ,UAAYA,EAChBY,EAAIG,aAAa,QAASZ,KAAKV,SAC/Bf,EAAEM,KAAKgC,YAAYJ,GACZA,KAGTvC,IAAK,MACLiC,MAAO,WAEL,MADAH,MAAKE,SAAW,MACTF,QAGT9B,IAAK,SACLiC,MAAO,WAEL,MADAH,MAAKE,SAAW,SACTF,SAIJD,IAGT,OAAO,IAAIA,GAGS,iBAAXe,QACTA,OAAOC,QAAUjB,IACU,gBAAXkB,UAChBA,OAAOjB,WAAaD,MAkBrBkB,OAAQtB","file":"page-walker.min.js","sourcesContent":["'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n(function (W, D) {\n\n  var $ = document.querySelector.bind(document);\n  var className = 'page-walker';\n  var selector = '.' + className;\n\n  var definition = function definition() {\n    var PageWalker = (function () {\n      function PageWalker() {\n        _classCallCheck(this, PageWalker);\n\n        this.bgColor = '#0A74DA';\n        this.position = 'top';\n      }\n\n      _createClass(PageWalker, [{\n        key: 'style',\n        value: function style() {\n          return '\\n          position: fixed;\\n          ' + this.position + ': 0;\\n          background-color: ' + this.bgColor + ';\\n          left: 0;\\n          width: 0;\\n          height: 3px;\\n          z-index: 9999;\\n          transition: width .3s ease-in-out;\\n        ';\n        }\n      }, {\n        key: 'watch',\n        value: function watch() {\n          var exitsingBar = $(selector);\n          if (exitsingBar) {\n            D.body.removeChild(exitsingBar);\n          }\n          this.getBar();\n          this.watchBar();\n        }\n      }, {\n        key: 'watchBar',\n        value: function watchBar() {\n          W.addEventListener('scroll', function () {\n            updateProgress();\n          });\n        }\n      }, {\n        key: 'getBar',\n        value: function getBar() {\n          var bar = $(selector);\n          if (!bar) {\n            bar = this.initBar();\n          }\n          return bar;\n        }\n      }, {\n        key: 'initBar',\n        value: function initBar() {\n          var bar = D.createElement('div');\n          bar.className = className;\n          bar.setAttribute('style', this.style());\n          D.body.appendChild(bar);\n          return bar;\n        }\n      }, {\n        key: 'top',\n        value: function top() {\n          this.position = 'top';\n          return this;\n        }\n      }, {\n        key: 'bottom',\n        value: function bottom() {\n          this.position = 'bottom';\n          return this;\n        }\n      }]);\n\n      return PageWalker;\n    })();\n\n    return new PageWalker();\n  };\n\n  if (typeof module === 'object') {\n    module.exports = definition();\n  } else if (typeof window === 'object') {\n    window.PageWalker = definition();\n  }\n\n  function getDocHeight() {\n    return Math.max(D.body.scrollHeight, D.documentElement.scrollHeight, D.body.offsetHeight, D.documentElement.offsetHeight, D.body.clientHeight, D.documentElement.clientHeight);\n  }\n\n  function updateProgress() {\n    var wh = W.innerHeight;\n    var h = height(D.body);\n    var sHeight = h - wh;\n    var width = Math.max(0, Math.min(1, W.scrollY / sHeight)) * 100 + '%';\n    $(selector).style.width = width;\n  }\n\n  function height(el) {\n    return parseInt(getComputedStyle(el).height);\n  }\n})(window, document);"],"sourceRoot":"/source/"}